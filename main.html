<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hacker Terminal — For Raya</title>
  <style>
    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      background:#000;
      font-family: "Courier New", Courier, monospace;
      overflow:hidden;
      color:#00ff6a;
    }

    /* Canvas (matrix rain) */
    canvas#rain{
      position:fixed;left:0;top:0;width:100%;height:100%;z-index:0;opacity:0.25;
    }

    /* Terminal container */
    .terminal{
      position:relative;
      z-index:1;
      width:90%;
      max-width:980px;
      height:70vh;
      margin:4vh auto 0 auto;
      background:rgba(0,0,0,0.6);
      border:1px solid rgba(0,255,106,0.12);
      padding:22px;
      border-radius:6px;
      box-shadow:0 8px 40px rgba(0,255,106,0.04), inset 0 1px 0 rgba(255,255,255,0.02);
      overflow:auto;
    }

    /* Top bar like a terminal window */
    .term-top{
      display:flex;gap:8px;align-items:center;margin-bottom:12px;
    }
    .dot{width:12px;height:12px;border-radius:50%;background:#222;border:2px solid rgba(0,0,0,.6)}
    .dot.red{background:#ff5f57}
    .dot.yellow{background:#ffbd2e}
    .dot.green{background:#28c840}
    .title{margin-left:auto;color:rgba(0,255,106,0.8);font-size:13px}

    /* Terminal content lines */
    .lines{font-size:18px;line-height:1.6;white-space:pre-wrap}
    .prompt{color:#00ff6a}

    /* blinking cursor */
    .cursor{
      display:inline-block;
      width:10px;
      height:20px;
      background:#00ff6a;
      margin-left:6px;
      vertical-align:bottom;
      animation:blink 1s steps(2,start) infinite;
    }
    @keyframes blink{50%{opacity:0}}

    /* small footer */
    .footer{position:fixed;left:12px;bottom:10px;color:rgba(0,255,106,0.3);font-size:12px}

    /* responsive */
    @media (max-width:560px){
      .terminal{height:75vh;padding:14px}
      .lines{font-size:16px}
    }
  </style>
</head>
<body>
  <canvas id="rain"></canvas>

  <div class="terminal" role="region" aria-label="Hacker terminal">
    <div class="term-top">
      <div class="dot red"></div>
      <div class="dot yellow"></div>
      <div class="dot green"></div>
      <div class="title">root@raya:~/<span style="opacity:.6">terminal</span></div>
    </div>

    <div class="lines" id="lines" aria-live="polite"></div>
    <div style="height:12px"></div>
  </div>

  <div class="footer">Press <kbd>Space</kbd> to skip typing, <kbd>R</kbd> to replay.</div>

  <script>
    /*******************
     * Matrix rain
     *******************/
    const canvas = document.getElementById('rain');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = innerWidth;
    let h = canvas.height = innerHeight;

    const cols = Math.floor(w / 18);
    const ypos = Array(cols).fill(0);

    function matrixStep(){
      ctx.fillStyle = 'rgba(0,0,0,0.06)';
      ctx.fillRect(0,0,w,h);
      ctx.fillStyle = '#00ff6a';
      ctx.font = '14px monospace';
      for(let i=0;i<ypos.length;i++){
        const text = String.fromCharCode(0x30A0 + Math.random()*96);
        const x = i * 18;
        ctx.fillText(text, x, ypos[i]*18);
        if(ypos[i]*18 > h && Math.random() > 0.975) ypos[i]=0;
        ypos[i]++;
      }
    }
    let matrixInterval = setInterval(matrixStep, 45);
    addEventListener('resize', ()=>{ w=canvas.width=innerWidth; h=canvas.height=innerHeight; });

    /*******************
     * Terminal typing
     *******************/
    const linesEl = document.getElementById('lines');
    const messages = [];
    // prepare the three lines repeated 10 times each
    for(let i=0;i<10;i++) messages.push('sorry raya');
    messages.push(''); // blank spacer
    for(let i=0;i<10;i++) messages.push('I love u raya');
    messages.push('');
    for(let i=0;i<10;i++) messages.push('I miss u');

    let currentLine = 0;
    let skip = false;

    function typeLine(text, cb){
      const prompt = '<span class="prompt">root@raya:~$</span> ';
      const container = document.createElement('div');
      container.innerHTML = prompt;
      linesEl.appendChild(container);

      let i = 0;
      // randomize typing speed a little
      function step(){
        if(skip){
          // If user pressed skip, render rest immediately
          container.innerHTML = prompt + escapeHtml(text) + '<span class="cursor"></span>';
          cb();
          return;
        }
        if(i <= text.length){
          container.innerHTML = prompt + escapeHtml(text.slice(0,i)) + '<span class="cursor"></span>';
          i++;
          // variable speed
          const t = 20 + Math.random()*60;
          setTimeout(step,t);
          linesEl.scrollTop = linesEl.scrollHeight;
        } else {
          // finished typing this line
          container.innerHTML = prompt + escapeHtml(text);
          // small delay before callback
          setTimeout(cb, 140 + Math.random()*350);
        }
      }
      step();
    }

    function escapeHtml(s){
      return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    }

    function runSequence(){
      linesEl.innerHTML = '';
      currentLine = 0;
      skip = false;
      playNext();
    }

    function playNext(){
      if(currentLine >= messages.length){
        // finished — show a friendly footer line
        const done = document.createElement('div');
        done.innerHTML = '<span class="prompt">root@raya:~$</span> <em style="opacity:.8">— transmission complete —</em>';
        linesEl.appendChild(done);
        return;
      }
      const text = messages[currentLine++];
      // if empty string, just add a blank line quickly
      if(text === ''){
        const br = document.createElement('div');
        br.innerHTML = '';
        linesEl.appendChild(br);
        setTimeout(playNext, 180);
      } else {
        typeLine(text, playNext);
      }
    }

    // keyboard controls
    addEventListener('keydown', (e)=>{
      if(e.code === 'Space'){
        skip = true;
      }
      if(e.key.toLowerCase() === 'r'){
        runSequence();
      }
    });

    // autoplay once
    runSequence();

    // small accessibility: allow clicking terminal to toggle skip
    document.querySelector('.terminal').addEventListener('click', ()=>{ skip = true; });

  </script>
</body>
</html>
